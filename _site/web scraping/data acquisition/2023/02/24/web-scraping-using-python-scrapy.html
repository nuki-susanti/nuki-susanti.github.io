<!DOCTYPE html>
<html lang="en">

<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></head>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="google-translate-customization" content="108d9124921d80c3-80e20d618ff053c8-g4f02ec6f3dba68b7-c">
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Web Scraping Using Python Scrapy - indeed.com | Home</title>
<meta name="generator" content="Jekyll v4.3.1">
<meta property="og:title" content="Web Scraping Using Python Scrapy - indeed.com">
<meta name="author" content="Nuki Susanti">
<meta property="og:locale" content="en_US">
<meta name="description" content="Source: wikipedia">
<meta property="og:description" content="Source: wikipedia">
<link rel="canonical" href="http://localhost:4000/web%20scraping/data%20acquisition/2023/02/24/web-scraping-using-python-scrapy.html">
<meta property="og:url" content="http://localhost:4000/web%20scraping/data%20acquisition/2023/02/24/web-scraping-using-python-scrapy.html">
<meta property="og:site_name" content="Home">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2023-02-24T00:00:00+01:00">
<meta name="twitter:card" content="summary">
<meta property="twitter:title" content="Web Scraping Using Python Scrapy - indeed.com">
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Nuki Susanti"},"dateModified":"2023-02-24T00:00:00+01:00","datePublished":"2023-02-24T00:00:00+01:00","description":"Source: wikipedia","headline":"Web Scraping Using Python Scrapy - indeed.com","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/web%20scraping/data%20acquisition/2023/02/24/web-scraping-using-python-scrapy.html"},"url":"http://localhost:4000/web%20scraping/data%20acquisition/2023/02/24/web-scraping-using-python-scrapy.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="icon" href="">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-noto-sans@0.0.72/index.min.css">
  <link rel="stylesheet" href="/assets/css/main.css">
  <script src="/assets/js/main.js"></script><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Home">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js"></script>
<!-- and it's easy to individually load additional languages -->
<script charset="UTF-8" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/languages/go.min.js"></script>



















<script>
// Init highlight js
document.addEventListener('DOMContentLoaded', function(event) {
  var els = document.querySelectorAll('pre code')

  function addLangData(block) {
    var outer = block.parentElement.parentElement.parentElement;
    var lang = block.getAttribute('data-lang');
    for (var i = 0; i < outer.classList.length; i++) {
      var cls = outer.classList[i];
      if (cls.startsWith('language-')) {
        lang = cls;
        break;
      }
    }
    if (!lang) {
      cls = block.getAttribute('class');
      lang = cls ? cls.replace('hljs ', '') : '';
    }
    if (lang.startsWith('language-')) {
      lang = lang.substr(9);
    }
    block.setAttribute('class', 'hljs ' + lang);
    block.parentNode.setAttribute('data-lang', lang);
  }

  function addBadge(block) {
    var enabled = ('true' || 'true').toLowerCase();
    if (enabled == 'true') {
      var pre = block.parentElement;
      pre.classList.add('badge');
    }
  }

  function handle(block) {
    addLangData(block);
    addBadge(block)
    hljs.highlightBlock(block);
  }

  for (var i = 0; i < els.length; i++) {
    var el = els[i];
    handle(el);
  }
});
</script>

<style>
  /* code language badge */
  pre.badge::before {
    content: attr(data-lang);
    color: #fff;
    background-color: #ff4e00;
    padding: 0 .5em;
    border-radius: 0 2px;
    text-transform: uppercase;
    text-align: center;
    min-width: 32px;
    display: inline-block;
    position: absolute;
    right: 0;
  }

  /* fix wrong badge display for firefox browser */
  code > table pre::before {
    display: none;
  }
</style>
</head>
<body>





































































































































<header class="site-header " role="banner">

  <div class="wrapper">
    <div class="site-header-inner">
<span class="site-brand"><a class="site-brand-inner" rel="author" href="/">
  <img class="site-favicon" title="Home" src="" onerror="this.style.display='none'">
  Home
</a>
</span><nav class="site-nav">
          <input type="checkbox" id="nav-trigger" class="nav-trigger">
          <label for="nav-trigger">
            <span class="menu-icon">
              <svg viewbox="0 0 18 15" width="18px" height="15px">
                <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"></path>
              </svg>
            </span>
          </label>

          <div class="trigger">
<a class="page-link" href="/about.html">ABOUT ME</a><a class="page-link" href="/resume.html">RESUME</a><a class="page-link" href="/archives.html">PROJECTS</a><a class="page-link" href="/contact.html">CONTACT</a>




</div>
        </nav>
</div>
  </div>
</header>

<script>
  function initHeader() {
    var lastScrollY = getScrollPos().y;
    var documentElement = document.documentElement;

    function storeScrollData() {
      var y = getScrollPos().y;var scrollStatus = "";

      if (y <= 0) {
        scrollStatus = "top";
      } else if ((window.innerHeight + y) >= document.body.offsetHeight) {
        scrollStatus = "bottom";
      } else {
        var isScrollDown = (y - lastScrollY > 0) ? true : false;
        scrollStatus = isScrollDown ? "down" : "up";
      }

      lastScrollY = y;
      documentElement.setAttribute("data-scroll-status", scrollStatus);
    }

    window.addEventListener('scroll', function(e) {
      storeScrollData();
    });

    storeScrollData();
  }
  document.addEventListener('DOMContentLoaded', initHeader);
</script>


























































































































































<script>
  function hashLocate(hashValue) {
    hashValue = hashValue.replace(/^.*#h-/, '');
    hashValue = decodeURIComponent(hashValue);
    var element = document.getElementById(hashValue);

    if (!element) {
      return;
    }

    var header = document.querySelector('header.site-header');
    var headerRect = header.getBoundingClientRect();
    var headerTop = Math.floor(headerRect.top);
    var headerHeight = Math.floor(headerRect.height);
    var scrollPos = getScrollPos();
    var offsetY = element.offsetTop - (headerTop + headerHeight + 20);

    if (offsetY == scrollPos.y) {
      return;
    }

    if (headerTop == 0  && offsetY > scrollPos.y) {
      offsetY += headerHeight + 2;
    } else if (headerTop < 0  && offsetY < scrollPos.y) {
      offsetY -= headerHeight - 2;
    }

    smoothScrollTo(offsetY);
  }

  // The first event occurred
  window.addEventListener('load', function(event) {
    if (window.location.hash) {
      hashLocate(window.location.hash);
    }
  });

  // The first event occurred
  window.addEventListener('click', function(event) {
    if (event.target.tagName.toLowerCase() == 'a') {
      hashLocate(event.target.getAttribute('href'));
    }
  });
</script>
<div class="theme-toggle">
  <input type="checkbox" id="theme-switch">
  <label for="theme-switch">
    <div class="toggle"></div>
    <div class="names">
      <p class="light">Light</p>
      <p class="dark">Dark</p>
    </div>
  </label>
</div>




<script>
  (function() {
    var sw = document.getElementById('theme-switch');
    var html = document.getElementsByTagName('html')[0];
    var nightModeOption = ('auto' || 'auto').toLowerCase();
    var storage = nightModeOption === 'manual'
        ? localStorage
        : sessionStorage;
    var themeData = loadThemeData();

    function saveThemeData(data) {
      storage.setItem('theme', JSON.stringify(data));
    }

    function loadThemeData() {
      var data = storage.getItem('theme');
      try {
        data = JSON.parse(data ? data : '');
      } catch(e) {
        data = { nightShift: undefined, autoToggleAt: 0 };
        saveThemeData(data);
      }
      return data;
    }

    function handleThemeToggle(nightShift) {
      themeData.nightShift = nightShift;
      saveThemeData(themeData);
      html.dataset.theme = nightShift ? 'dark' : 'light';
      setTimeout(function() {
        sw.checked = nightShift ? true : false;
      }, 50);
    }

    function autoThemeToggle() {
      // Next time point of theme toggle
      var now = new Date();
      var toggleAt = new Date();
      var hours = now.getHours();
      var nightShift = hours >= 19 || hours <=7;

      if (nightShift) {
        if (hours > 7) {
          toggleAt.setDate(toggleAt.getDate() + 1);
        }
        toggleAt.setHours(7);
      } else {
        toggleAt.setHours(19);
      }

      toggleAt.setMinutes(0);
      toggleAt.setSeconds(0);
      toggleAt.setMilliseconds(0)

      var delay = toggleAt.getTime() - now.getTime();

      // auto toggle theme mode
      setTimeout(function() {
        handleThemeToggle(!nightShift);
      }, delay);

      return {
        nightShift: nightShift,
        toggleAt: toggleAt.getTime()
      };
    }

    // Listen the theme toggle event
    sw.addEventListener('change', function(event) {
      handleThemeToggle(event.target.checked);
    });

    if (nightModeOption == 'auto') {
      var data = autoThemeToggle();

      // Toggle theme by local setting
      if (data.toggleAt > themeData.autoToggleAt) {
        themeData.autoToggleAt = data.toggleAt;
        handleThemeToggle(data.nightShift);
      } else {
        handleThemeToggle(themeData.nightShift);
      }
    } else if (nightModeOption == 'manual') {
      handleThemeToggle(themeData.nightShift);
    } else {
      var nightShift = themeData.nightShift;
      if (nightShift === undefined) {
        nightShift = nightModeOption === 'on';
      }
      handleThemeToggle(nightShift);
    }
  })();
</script>
<div id="click-to-top" class="click-to-top">
  <i class="fa fa-arrow-up"></i>
</div>
<script>
  (function () {
    const clickToTop = document.getElementById('click-to-top');
    window.addEventListener('scroll', () => {
      if (window.scrollY > 100) {
        clickToTop.classList.add('show')
      }else {
        clickToTop.classList.remove('show')
      }
    });
    clickToTop.addEventListener('click', () => {
      window.smoothScrollTo(0);
    });
  })();
</script>
<main class="page-content" aria-label="Content">
    <div class="wrapper">
      <div class="framework">
  <section class="main">

     <div class="post">
  <section>









<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

    <div class="post-content e-content" itemprop="articleBody">

      <p align="center">
  <img src="https://i.ytimg.com/vi/ve_0h4Y8nuI/maxresdefault.jpg">
  <em>Source: wikipedia</em>
</p>

<h2 id="motivation"><strong>Motivation</strong></h2>

<p>As a (future) data analyst, data acquisition is one of the day-to-day work. It is quite convenient when data we need is already published somewhere on the internet as open source data. We can of course get right into analysis. However, as we know that this world is not ideal. Sometimes, data analyst must go get their hand dirty by acquring data themselves, such as web scraping and web crawling. Altough web scraping and web crawling might be used interchangebly, however, they are actually very different process. This small project is web scraping which is acquiring job posting data from job portal indeed.com.</p>

<p>Before scraping, I did quick research on the legality of web scraping. To date, this topic remains gray area, however, we can reflect on the linkedIn saga who sued hiQ Lab which I don’t want to go detail into. From my quick research, it may be concluded that it should be fine to scrape “public data” which doesn’t include any authorization. Further, here, I don’t scrape any data containing PII. In addition, one should be more “ethical” since scraping may overload the web server.</p>
<p style="margin-bottom:-30px"></p>

<h2 id="overview---project-and-tools"><strong>Overview - Project and Tools</strong></h2>

<p>The aim of this projects are:</p>

<p style="margin-top:-10px"></p>

<ul>
  <li>Exercising web scraping skills and dataa acquisitions</li>
  <li>Performing job posting analysis since I have been getting many rejections while applying data analyst position in Germany, haha.. I wonder what makes data analyst in Germany to be hired in terms of skills and qualifications. I wanted to prove my assumption through analysis whether a classical stereotype is true that formal degree in the relevant major is more important than skills, even in this digital era where everybody can learn almost anything.</li>
</ul>

<p>The job posting analysis will be performed next and written in a separate article.</p>

<p><b>Tech Stack:</b></p>

<p style="margin-top:-10px"></p>

<ul>
  <li>
<a href="https://scrapy.org" target="_blank">Scrapy</a> - Python framework for web scraping and web crawling</li>
  <li>
<a href="https://scrapeops.io" target="_blank">Proxy provider</a> - For tunneling the scraper request to the web server</li>
</ul>

<p style="margin-bottom:-30px"></p>

<h2 id="process"><strong>Process</strong></h2>
<p style="margin-bottom:-50px"></p>

<h3 id="1-installing-scrapy">1.	Installing Scrapy</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">pip</span> <span class="n">install</span> <span class="n">scrapy</span>
</code></pre></div></div>

<h3 id="2-inspecting-indeedcom-page">2.	Inspecting indeed.com page</h3>

<p>As mentioned, I will be interested in discovering data analyst job requirements in Germany. By inputing keyword “data analyst” and location “Germany”, indeed will give me this look.</p>

<p align="center">
  <img src="/assets/images/banners/scrapy/indeed1.png">
  <em>The looks of de.indeed.com</em>
</p>

<p align="center">
  <img src="/assets/images/banners/scrapy/indeed2.png">
  <em>Inspecting page element</em>
</p>

<p>Firstly, I scraped the div container of the front page to get all the links leading to the actual job page, then scraped one by one the information about the “job title”, “location, “status” and “job description”. Afterwards, I will go to the next page and do exactly the same thing.</p>

<h4 id="scraping-front-page">Scraping front page</h4>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># File: indeed_scraper.py
</span><span class="k">def</span> <span class="nf">parse_front</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">):</span>

        <span class="n">links</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="n">xpath</span><span class="p">(</span>
            <span class="s">'//div[@id="mosaic-provider-jobcards"]//td[@class="resultContent"]/div/h2/a/@href'</span><span class="p">)</span>
        <span class="n">links_to_follow</span> <span class="o">=</span> <span class="n">links</span><span class="p">.</span><span class="n">extract</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">url</span> <span class="ow">in</span> <span class="n">links_to_follow</span><span class="p">:</span>
            <span class="n">url_to_follow</span> <span class="o">=</span> <span class="s">"https://de.indeed.com"</span> <span class="o">+</span> <span class="n">url</span>
            <span class="k">yield</span> <span class="n">response</span><span class="p">.</span><span class="n">follow</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">url_to_follow</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="bp">self</span><span class="p">.</span><span class="n">parse_page</span><span class="p">)</span>

        <span class="c1"># Paginate Through Jobs Pages
</span>        <span class="n">next_page</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="n">xpath</span><span class="p">(</span><span class="s">'//a[@aria-label="Next Page"]/@href'</span><span class="p">).</span><span class="n">get</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">next_page</span><span class="p">:</span>
            <span class="n">next_page_url</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="n">urljoin</span><span class="p">(</span><span class="n">next_page</span><span class="p">)</span>
            <span class="k">yield</span> <span class="n">scrapy</span><span class="p">.</span><span class="n">Request</span><span class="p">(</span><span class="n">url</span><span class="o">=</span><span class="n">next_page_url</span><span class="p">,</span> <span class="n">callback</span><span class="o">=</span><span class="bp">self</span><span class="p">.</span><span class="n">parse_front</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="scraping-actual-page">Scraping actual page</h4>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># File: indeed_scraper.py
</span><span class="k">def</span> <span class="nf">parse_page</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">):</span>

        <span class="n">job_title_ext</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="n">xpath</span><span class="p">(</span><span class="s">'//h1/span[@role="text"]/text()'</span><span class="p">).</span><span class="n">extract_first</span><span class="p">()</span>

        <span class="n">company_name_ext</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="n">xpath</span><span class="p">(</span><span class="s">'//div[@data-company-name="true"]/a/text()'</span><span class="p">).</span><span class="n">extract_first</span><span class="p">()</span>

        <span class="n">location_ext</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="n">xpath</span><span class="p">(</span><span class="s">'//*[contains(@class,"jobsearch-JobInfoHeader-subtitle")]/div[2]/div[1]/text()'</span><span class="p">).</span><span class="n">extract_first</span><span class="p">()</span>

        <span class="n">status_ext</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="n">xpath</span><span class="p">(</span><span class="s">'//*[@id="salaryInfoAndJobType"]/span/text()'</span><span class="p">).</span><span class="n">extract_first</span><span class="p">()</span>
        
        <span class="n">description</span> <span class="o">=</span> <span class="n">response</span><span class="p">.</span><span class="n">xpath</span><span class="p">(</span><span class="s">'//div[@id="jobDescriptionText"]//descendant::*/text()'</span><span class="p">)</span>
        <span class="n">description_ext</span> <span class="o">=</span> <span class="n">description</span><span class="p">.</span><span class="n">extract</span><span class="p">()</span>
        <span class="n">desc</span> <span class="o">=</span> <span class="s">''</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">description_ext</span><span class="p">)</span>

        <span class="k">yield</span> <span class="p">{</span>
            <span class="s">'title'</span><span class="p">:</span> <span class="n">job_title_ext</span><span class="p">,</span>
            <span class="s">'company'</span><span class="p">:</span> <span class="n">company_name_ext</span><span class="p">,</span>
            <span class="s">'location'</span><span class="p">:</span> <span class="n">location_ext</span><span class="p">,</span>
            <span class="s">'status'</span><span class="p">:</span> <span class="n">status_ext</span><span class="p">,</span>
            <span class="s">'jobdesc'</span><span class="p">:</span> <span class="n">desc</span>
        <span class="p">}</span>
</code></pre></div></div>

<p>In order to finetune my selector, I really recommend using <code class="language-plaintext highlighter-rouge">scrapy shell</code>command.</p>

<h3 id="3-setting-up-the-proxy">3.	Setting up the proxy</h3>

<p>Website owners definitely will not let some random people just visit their websites, overload the server with requests and just “steal” data or information from them. Without having a proxy that tunnels our scraping requests, scraper bot would be easily detected and blocked. Proxy tunnels request scraper bots and acts as middleman (midlleware) handling our scraper bot requests. In other words, our requests will not be sent directly to the web server, thus, keeping our identity hidden.</p>

<p>To integrate the proxy easily into our scrapy project, I installed the ScrapeOps Scrapy proxy SDK a Downloader Middleware.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">pip</span> <span class="n">install</span> <span class="n">scrapeops</span><span class="o">-</span><span class="n">scrapy</span><span class="o">-</span><span class="n">proxy</span><span class="o">-</span><span class="n">sdk</span>
</code></pre></div></div>

<p>Further, cloud service has anti-bot protection that will block our scraping activity. To avoid blocking, we need to rotate proxy provided by proxy provider. <i>A rotating proxy is a proxy server that changes our internet-enabled device’s IP address for each HTTP request that our web browser makes. It generates new IPs from its vast pool of addresses, hiding our actual IP address to keep us anonymous online. <a href="https://firstsiteguide.com/what-is-rotating-proxy/">Source</a></i>. This will make website server thinks that all of scraper requests coming from the different sources/person. However, I would recommend a legitimate proxy provider for this purpose, unless you want your IP to get blocked. I used free plan from a professional <a href="https://scrapeops.io/" target="_blank">proxy provider</a> which gives me 1000 free API credits. Further, I also applied 3s time delay between request to be more “ethical”.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># File: settings.py
</span><span class="n">BOT_NAME</span> <span class="o">=</span> <span class="s">'indeed_scraper_spider'</span>

<span class="n">SPIDER_MODULES</span> <span class="o">=</span> <span class="p">[</span><span class="s">'indeed_scraper_spider.spiders'</span><span class="p">]</span>
<span class="n">NEWSPIDER_MODULE</span> <span class="o">=</span> <span class="s">'indeed_scraper_spider.spiders'</span>

<span class="c1"># Obey robots.txt rules
</span><span class="n">ROBOTSTXT_OBEY</span> <span class="o">=</span> <span class="bp">False</span>

<span class="c1">## ScrapeOps API Key
</span><span class="n">SCRAPEOPS_API_KEY</span> <span class="o">=</span> <span class="s">'YOUR API KEY'</span>

<span class="c1">## Enable ScrapeOps Proxy
</span><span class="n">SCRAPEOPS_PROXY_ENABLED</span> <span class="o">=</span> <span class="bp">True</span>

<span class="c1"># Add In The ScrapeOps Monitoring Extension
</span><span class="n">EXTENSIONS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">'scrapeops_scrapy.extension.ScrapeOpsMonitor'</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span> 
<span class="p">}</span>

<span class="n">DOWNLOADER_MIDDLEWARES</span> <span class="o">=</span> <span class="p">{</span>

    <span class="c1">## ScrapeOps Monitor
</span>    <span class="s">'scrapeops_scrapy.middleware.retry.RetryMiddleware'</span><span class="p">:</span> <span class="mi">550</span><span class="p">,</span>
    <span class="s">'scrapy.downloadermiddlewares.retry.RetryMiddleware'</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span>
    
    <span class="c1">## Proxy Middleware
</span>    <span class="s">'scrapeops_scrapy_proxy_sdk.scrapeops_scrapy_proxy_sdk.ScrapeOpsScrapyProxySdk'</span><span class="p">:</span> <span class="mi">725</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">DOWNLOAD_DELAY</span> <span class="o">=</span> <span class="mi">3</span>
</code></pre></div></div>

<p>Credit source: <a href="https://scrapeops.io/python-scrapy-playbook/python-scrapy-indeed-scraper/">Scrapeops Article</a></p>

<h3 id="4-lets-roll">4.	Let’s roll!</h3>

<p>Run command: <code class="language-plaintext highlighter-rouge">scrapy crawl indeed_scraper -o jobsposting_indeed.json</code></p>

<p align="center">
  <img src="/assets/images/banners/scrapy/indeed3.png">
  <em>Scraping indeed.com page</em>
</p>

<p align="center">
  <img src="/assets/images/banners/scrapy/indeed4.png">
  <em>Saving results as json file</em>
</p>

<p>With free plan proxy, I managed to scrape 715 job postings or almost 30% of around 2,500 available job postings.</p>

<h2 id="conclusions"><strong>Conclusions</strong></h2>

<p>This is indeed a very simple scraping script, however, there are some takeaway points for me:</p>

<p style="margin-top:-10px"></p>

<ul>
  <li>DOM (Document Object Model)</li>
  <li>Selector using xpath and css</li>
  <li>Proxy use</li>
  <li>Builidng scraper bot</li>
</ul>

<p style="margin-bottom:30px"></p>

<p>Find the code for this project <a href="https://github.com/nuki-susanti/Indeed-Scraping" target="_blank">Github</a><br>
Connect with me! <a href="https://www.linkedin.com/in/nukilsusanti/" target="_blank">Linkedin</a></p>


    </div>

</article>
<div class="post-nav">
<a class="previous" href="/database/sql/2023/02/09/student-registration-database-part2.html" title="Building Student Registration Database Part 2 - SQL Learning Series">Building Student Registration Database Part 2...</a><a class="next" href="/data%20analysis/exploratory%20data%20analysis/2023/06/06/crime-cases-analysis.html" title="Crime Cases Analysis - Los Angeles, California">Crime Cases Analysis - Los Angeles,...</a>
</div>
<div class="post-related">
      <div>Related Articles</div>
      <ul>
        <li><a class="post-link" href="/web%20scraping/data%20acquisition/2023/02/24/web-scraping-using-python-scrapy.html" title="Crime Cases Analysis - Los Angeles, California">Web Scraping Using Python Scrapy - indeed.com</a></li>
<li><a class="post-link" href="/database/sql/exploratory%20data%20analysis/2022/12/19/rockbuster-movie-rental-analysis.html" title="Crime Cases Analysis - Los Angeles, California">Rockbuster - Movie Rental Analysis</a></li>
<li><a class="post-link" href="/data%20analysis/data%20science/machine%20learning/2023/01/10/road-crash-analysis.html" title="Crime Cases Analysis - Los Angeles, California">How Safe Are We On The Road? - Road Crash Analysis</a></li>
<li><a class="post-link" href="/coding/game/2023/01/06/snake-game-using-python-turtle.html" title="Crime Cases Analysis - Los Angeles, California">Building Snake Game Using Python Turtle</a></li>
</ul>
    </div>
<div class="post-comments"></div></section>
</div>


  </section>
  <section class="sidebar" style="margin-left: 15px;">
    <!-- Get sidebar items --><style type="text/css" media="screen">
.post-menu ul {
  list-style: none;
  padding: 0;
  margin: 0;
}
</style>

<div class="post-menu">
  <div class="post-menu-title">TOC</div>
  <div class="post-menu-content"></div>
</div>

<script>
  function generateContent() {
    var menu = document.querySelector(".post-menu");
    var menuContent =  menu.querySelector(".post-menu-content");
    var headings = document.querySelector(".post-content").querySelectorAll("h2, h3, h4, h5, h6");

    // Hide menu when no headings
    if (headings.length === 0) {
      return menu.style.display = "none";
    }

    // Generate post menu
    var menuHTML = '';
    for (var i = 0; i < headings.length; i++) {
      var h = headings[i];
      menuHTML += (
        '<li class="h-' + h.tagName.toLowerCase() + '">'
        + '<a href="#h-' + h.getAttribute('id') + '">' + h.textContent + '</a></li>');
    }

    menuContent.innerHTML = '<ul>' + menuHTML + '</ul>';

    // The header element
    var header = document.querySelector('header.site-header');

    function doMenuCollapse(index, over_items) {
      var items = menuContent.firstChild.children;

      if (over_items == undefined) {
        over_items = 20;
      }

      if (items.length < over_items) {
        return;
      }

      var activeItem = items[index];
      var beginItem = activeItem
      var endItem = activeItem
      var beginIndex = index;
      var endIndex = index + 1;
      while (beginIndex >= 0
        && !items[beginIndex].classList.contains('h-h2')) {
        beginIndex -= 1;
      }
      while (endIndex < items.length
        && !items[endIndex].classList.contains('h-h2')) {
        endIndex += 1;
      }
      for (var i = 0; i < beginIndex; i++) {
        item = items[i]
        if (!item.classList.contains('h-h2')) {
          item.style.display = 'none';
        }
      }
      for (var i = beginIndex + 1; i < endIndex; i++) {
        item = items[i]
        // if (!item.classList.contains('h-h2')) {
          item.style.display = '';
        // }
      }
      for (var i = endIndex; i < items.length; i++) {
        item = items[i]
        if (!item.classList.contains('h-h2')) {
          item.style.display = 'none';
        }
      }
    }

    // Init menu collapsed
    doMenuCollapse(-1);

    // Active the menu item
    window.addEventListener('scroll', function (event) {
      var lastActive = menuContent.querySelector('.active');
      var changed = true;
      var activeIndex = -1;
      for (var i = headings.length - 1; i >= 0; i--) {
        var h = headings[i];
        var headingRect = h.getBoundingClientRect();
        var headerRect = header.getBoundingClientRect();
        var headerTop = Math.floor(headerRect.top);
        var headerHeight = Math.floor(headerRect.height);
        var headerHeight = headerTop + headerHeight + 20;
        if (headingRect.top <= headerHeight) {
          var id = 'h-' + h.getAttribute('id');
          var a = menuContent.querySelector('a[href="#' + id  + '"]');
          var curActive = a.parentNode;
          if (curActive) {
            curActive.classList.add('active');
            activeIndex = i;
          }
          if (lastActive == curActive) {
            changed = false;
          }
          break;
        }
      }
      if (changed) {
        if (lastActive) {
          lastActive.classList.remove('active');
        }
        doMenuCollapse(activeIndex);
      }
      event.preventDefault();
    });
  }
  generateContent();
</script>
</section>
</div>

    </div>
  </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">
    <div class="site-footer-inner">
<div>
<span class="copyleft">©</span> 2023 Nuki Susanti</div>
      <div>This page is powered by <a title="Jekyll is a simple, blog-aware, static site
      generator." href="https://jekyllrb.com/" target="_blank" rel="noopener noreferrer">Jekyll</a> &amp; <a title="Yat, yet
      another theme." href="https://github.com/jeffreytse/jekyll-theme-yat" target="_blank" rel="noopener noreferrer">Yat Theme</a>
</div>
    </div>
  </div>
</footer>
</body>

</html>
